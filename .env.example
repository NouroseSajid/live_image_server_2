# ============================================
# NOUROSE REPOSITORY - IMAGE & VIDEO SHARING PLATFORM
# LOCAL DEVELOPMENT ENVIRONMENT (.env.local)
# ============================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to Git!

# ============================================
# DATABASE (Local Development with SQLite)
# ============================================
# For development, we use SQLite for simplicity
DATABASE_URL="file:./prisma/dev.db"

# ============================================
# NEXTAUTH CONFIGURATION
# ============================================
# Generate a secret: openssl rand -base64 32
NEXTAUTH_SECRET="your-generated-secret-key-here"

# Must match your local development URL
NEXTAUTH_URL="http://localhost:3000"

# ============================================
# GITHUB OAUTH (Required for Login)
# ============================================
# Get these from: https://github.com/settings/developers
# 1. Create a new OAuth App
# 2. Set Authorization callback URL to: http://localhost:3000/api/auth/callback/github
GITHUB_ID="your-github-client-id"
GITHUB_SECRET="your-github-client-secret"

# ============================================
# FILE PROCESSING & STORAGE
# ============================================
# Maximum upload size in MB
MAX_FILE_SIZE="500"

# Image quality for WebP variants (1-100, recommended: 75-85)
IMAGE_QUALITY="85"
WEBP_QUALITY="80"

# Thumbnail dimensions
THUMB_WIDTH="300"
THUMB_HEIGHT="300"

# Video processing (requires ffmpeg)
VIDEO_MAX_BITRATE="5000k"
ENABLE_VIDEO_PROCESSING="true"

# ============================================
# WEBSOCKET SERVER (Real-time Updates)
# ============================================
# Ingest watcher broadcasts new files via WebSocket
WS_SERVER_HOST="localhost"
WS_SERVER_PORT="8080"

# Next.js app server (used by WebSocket server to forward SSE messages)
NEXT_APP_HOST="localhost"
NEXT_APP_PORT="3000"

# ============================================
# INGEST WATCHER CONFIGURATION
# ============================================
# Watches public/ingest folder for new files
INGEST_FOLDER_PATH="public/ingest"
FILE_STABLE_THRESHOLD="1500"
CONFIG_UPDATE_INTERVAL="5000"

# Default folder for auto-imported files
DEFAULT_INGEST_FOLDER="LIVE"

# ============================================
# SECURITY & AUTHENTICATION
# ============================================
# Passphrase hashing strength (10-14 recommended)
BCRYPT_ROUNDS="12"

# Rate limiting per minute (per IP)
RATE_LIMIT_PER_MINUTE="100"

# CORS allowed origins
CORS_ORIGINS="http://localhost:3000"

# ============================================
# LOGGING & DEBUGGING
# ============================================
# Log level: debug, info, warn, error
LOG_LEVEL="info"

# Enable detailed SQL query logging
SQL_LOGGING="false"

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_USER_REGISTRATION="true"
ENABLE_PUBLIC_FOLDERS="true"
ENABLE_BULK_DOWNLOAD="true"
ENABLE_RAW_UPLOADS="true"
ENABLE_FOLDER_PASSPHRASE="true"

# ============================================
# NODE ENVIRONMENT
# ============================================
NODE_ENV="development"
