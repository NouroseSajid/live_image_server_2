# ============================================
# NOUROSE - IMAGE & VIDEO SHARING PLATFORM
# PRODUCTION ENVIRONMENT (.env.production)
# ============================================
# This is an example for production deployment
# NEVER commit this file with real secrets to Git!
# Use your hosting provider's secret management instead

# ============================================
# DATABASE (Production with PostgreSQL)
# ============================================
# Use PostgreSQL for production (better than SQLite)
# Format: postgresql://user:password@host:port/database
DATABASE_URL="postgresql://nourose_user:strong-password-here@db.nourose.com:5432/nourose_prod"

# ============================================
# NEXTAUTH CONFIGURATION
# ============================================
# Generate a strong secret: openssl rand -base64 32
# Store in your hosting provider's secret manager (not in code!)
NEXTAUTH_SECRET="production-secret-key-very-long-and-secure-here"

# Must match your production domain
NEXTAUTH_URL="https://nourose.com"

# ============================================
# GITHUB OAUTH (Production App)
# ============================================
# Create a separate GitHub OAuth app for production
# Authorization callback URL: https://nourose.com/api/auth/callback/github
GITHUB_ID="prod-github-client-id-here"
GITHUB_SECRET="prod-github-client-secret-here"

# ============================================
# FILE PROCESSING & STORAGE
# ============================================
# Limit file uploads in production
MAX_FILE_SIZE="1000"

# Optimize for bandwidth and storage
IMAGE_QUALITY="80"
WEBP_QUALITY="75"

# Thumbnail dimensions
THUMB_WIDTH="300"
THUMB_HEIGHT="300"

# Video processing
VIDEO_MAX_BITRATE="3000k"
ENABLE_VIDEO_PROCESSING="true"

# ============================================
# WEBSOCKET SERVER (Production)
# ============================================
# Use environment-aware host/port
WS_SERVER_HOST="0.0.0.0"
WS_SERVER_PORT="8080"

# Or use a managed WebSocket service like Socket.IO
# WS_SERVER_URL="wss://ws.nourose.com"

# ============================================
# INGEST WATCHER CONFIGURATION
# ============================================
INGEST_FOLDER_PATH="public/ingest"
FILE_STABLE_THRESHOLD="2000"
CONFIG_UPDATE_INTERVAL="10000"
DEFAULT_INGEST_FOLDER="LIVE"

# ============================================
# SECURITY & AUTHENTICATION
# ============================================
# Strong hashing for production
BCRYPT_ROUNDS="14"

# Strict rate limiting
RATE_LIMIT_PER_MINUTE="50"

# Only allow your domain
CORS_ORIGINS="https://nourose.com,https://www.nourose.com"

# ============================================
# LOGGING & MONITORING
# ============================================
# Production: info or warn (less noise)
LOG_LEVEL="warn"

# Enable structured logging
SQL_LOGGING="false"

# Error tracking service (Sentry)
SENTRY_DSN="https://your-sentry-key@sentry.io/project-id"

# Performance monitoring (optional)
# DATADOG_API_KEY="your-datadog-key"

# ============================================
# FEATURE FLAGS
# ============================================
# Be conservative in production
ENABLE_USER_REGISTRATION="false"
ENABLE_PUBLIC_FOLDERS="true"
ENABLE_BULK_DOWNLOAD="true"
ENABLE_RAW_UPLOADS="true"
ENABLE_FOLDER_PASSPHRASE="true"

# ============================================
# CDN & STORAGE (Optional)
# ============================================
# If using S3 or similar for file storage
# AWS_ACCESS_KEY_ID="your-aws-key-id"
# AWS_SECRET_ACCESS_KEY="your-aws-secret"
# AWS_REGION="us-east-1"
# AWS_BUCKET="nourose-prod-bucket"

# If using Cloudflare for CDN
# CLOUDFLARE_API_TOKEN="your-cloudflare-token"
# CLOUDFLARE_ZONE_ID="your-zone-id"

# ============================================
# EMAIL NOTIFICATIONS (Optional)
# ============================================
# For sending emails to users
# EMAIL_PROVIDER="sendgrid"
# SENDGRID_API_KEY="your-sendgrid-key"
# SENDER_EMAIL="noreply@nourose.com"

# ============================================
# BACKUP & MAINTENANCE
# ============================================
# Automated backups
# BACKUP_ENABLED="true"
# BACKUP_FREQUENCY="daily"
# BACKUP_DESTINATION="s3://nourose-backups"

# ============================================
# NODE ENVIRONMENT
# ============================================
NODE_ENV="production"
